<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>extjs练习</title>
    <link rel="stylesheet" href="classic/theme-neptune/resources/theme-neptune-all.css">
    <script type="text/javascript" src="ext-all-debug.js"></script>
    <script type="text/javascript" src="classic/theme-neptune/theme-neptune.js"></script>
</head>

<body>
    <script type="text/javascript">
    Ext.define("User", {
        //模型字段属性 基本有6个 string int boolean auto  number date
        extend: 'Ext.data.Model',
        fields: [{
            name: 'name',
            type: 'string'
        }, {
            name: 'age',
            type: 'int'
        }, {
            name: 'phone',
            type: 'string'
        }, {
            name: 'gender',
            type: 'string'
        }, {
            name: 'username',
            type: 'string'
        }, {
            name: 'alive',
            type: 'boolean',
            defaultValue: true
        }],
        validators: {
            age: 'presence',
            name: {
                type: 'length',
                min: 2
            },
            gender: {
                type: 'inclusion',
                list: ['Male', 'Female']
            },
            username: [{
                type: 'exclusion',
                list: ['Admin', 'Operator']
            }, {
                type: 'format',
                matcher: /([a-z]+)[0-9]{2,3}/i
            }]
        }
    });

    
    var instance = Ext.create('User', {
        name: 'E',
        gender: 'Ma1le',
        username: 'q3'
    });

    var validates = instance.validate();
    
    console.log(validates.isValid());//false

    var validates = instance.validate();
    var errrorsArr=validates.items;
    for(var i=0;i<errrorsArr.length;i++){
    	console.log(errrorsArr[i].field+":"+errrorsArr[i].msg);
    }
    </script>
</body>

</html>
