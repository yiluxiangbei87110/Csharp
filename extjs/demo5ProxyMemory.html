<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>extjs练习</title>
    <link rel="stylesheet" href="classic/theme-neptune/resources/theme-neptune-all.css">
    <script type="text/javascript" src="ext-all-debug.js"></script>
    <script type="text/javascript" src="classic/theme-neptune/theme-neptune.js"></script>
</head>

<body>
    <script type="text/javascript">
    (function() {
        Ext.onReady(function() {
            //this is the model we will be using in the store
            Ext.define('User', {
                extend: 'Ext.data.Model',
                fields: [{
                    name: 'id',
                    type: 'int'
                }, {
                    name: 'name',
                    type: 'string'
                }, {
                    name: 'phone',
                    type: 'string',
                    mapping: 'phoneNumber'
                }]
            });

            //this data does not line up to our model fields - the phone field is called phoneNumber
            var data = {
                users: [{
                    id: 1,
                    name: 'Ed Spencer',
                    phoneNumber: '555 1234'
                }, {
                    id: 2,
                    name: 'Abe Elias',
                    phoneNumber: '666 1234'
                }]
            };

            //note how we set the 'root' in the reader to match the data structure above
            var store = Ext.create('Ext.data.Store', {
                autoLoad: true,
                model: 'User',
                data: data,
                proxy: {
                    type: 'memory',
                    reader: {
                        type: 'json',
                        rootProperty: 'users'
                    }
                }
            });
           
            store.add({id:7,name:'Felix',phoneNumber:'18898532712'});
            console.log(store);
            //读取里面的值
            //store.getAt(索引).get(字段名)
            console.log(store.first());
            console.log(store.getAt(2));
            console.log(store.getAt(1).get('name'));
            store.each(function(res){
                console.log(res.get('name'));
            });

           //更新操作
           //store.update()？？？？？？？
        });
    })();
    </script>
</body>

</html>
